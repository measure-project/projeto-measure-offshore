<div class="content">
	<mat-toolbar class="toolBar">
		<img src="../../../../assets/measure-logo-header.svg" />
		<span class="material-icons profileIcon">account_circle</span>
	</mat-toolbar>

	<mat-card class="profileCard mat-elevation-z4">
		<mat-card-title>
			<h1>Cadastro de Administardores</h1>
		</mat-card-title>

		<mat-card-content class="profileCardContent">
			<img
				class="profilePicture"
				[src]="profilePic"
				alt="Foto de perfil"
			/>
			<button mat-raised-button class="editPhoto">
				<label for="uploadButton" class="material-icons"
					>border_color</label
				>
			</button>
			<input
				style="display: none"
				accept="image/png image/jpeg"
				type="file"
				id="uploadButton"
				(change)="editPhoto($event)"
			/>
			<form
				#adminData="ngForm"
				(ngSubmit)="cadastrarAdmin(adminData.value, password)"
				class="edit-form"
			>
				<mat-form-field appearance="outline">
					<mat-label>Nome</mat-label>
					<input
						matInput
						type="text"
						name="name"
						ngModel
						required
						placeholder="Nome"
					/>
					<mat-error>Insira um nome válido!</mat-error>
				</mat-form-field>
				<!-- Nascimento -->
				<mat-form-field appearance="outline">
					<mat-label>Nascimento</mat-label>
					<input
						matInput
						type="text"
						name="birthday"
						ngModel
						required
						placeholder="01/01/2021"
						mask="00/00/0000"
					/>
					<mat-error>Insira sua data de nascimento!</mat-error>
				</mat-form-field>
				<!-- E-mail -->
				<mat-form-field appearance="outline">
					<mat-label>E-mail</mat-label>
					<input
						matInput
						type="text"
						name="email"
						ngModel
						required
						email
						placeholder="usuario@email.com"
					/>
					<mat-error>Insira um e-mail válido!</mat-error>
				</mat-form-field>
				<!-- Telefone -->
				<mat-form-field appearance="outline">
					<mat-label>Telefone</mat-label>
					<input
						matInput
						type="text"
						name="phone"
						ngModel
						required
						placeholder="(00) 90000-0000"
						mask="{{ phoneMask }}"
					/>
					<mat-error>Insira um numero de telefone válido!</mat-error>
				</mat-form-field>

				<!--CEP-->
				<mat-form-field appearance="outline">
					<mat-label>CEP</mat-label>
					<input
						matInput
						type="text"
						name="cep"
						ngModel
						required
						placeholder="11111-111"
						mask="00000-000"
					/>
					<mat-error>Insira um numero de telefone válido!</mat-error>
				</mat-form-field>

				<!--CPF do admin-->
				<mat-form-field appearance="outline">
					<mat-label>CPF</mat-label>
					<input
						matInput
						type="text"
						name="cpf"
						ngModel
						required
						placeholder="123.456.789-10"
						mask="000.000.000-00"
					/>
					<mat-error>Insira um numero de telefone válido!</mat-error>
				</mat-form-field>
				<!-- Endereço -->
				<mat-form-field appearance="outline">
					<mat-label>Endereço</mat-label>
					<input
						matInput
						type="text"
						name="adress"
						ngModel
						required
						placeholder="Nome da rua"
					/>
					<mat-error>Insira um endereço válido!</mat-error>
				</mat-form-field>
				<!-- Bairro e número -->
				<mat-form-field
					appearance="outline"
					style="width: 5rem; justify-self: end"
				>
					<mat-label>Nº</mat-label>
					<input
						matInput
						type="text"
						name="houseNumber"
						ngModel
						required
						placeholder="00"
						mask="0*"
					/>
					<mat-error>Insira um nº válido!</mat-error>
				</mat-form-field>

				<mat-form-field appearance="outline">
					<mat-label>Bairro</mat-label>
					<input
						matInput
						type="text"
						name="district"
						ngModel
						required
						placeholder="Nome do bairro"
					/>
					<mat-error>Insira seu bairro!</mat-error>
				</mat-form-field>
				<!-- Complemento -->
				<mat-form-field appearance="outline">
					<mat-label>Complemento</mat-label>
					<input
						matInput
						type="text"
						name="complement"
						ngModel
						placeholder="Nome da rua"
					/>
				</mat-form-field>

				<div style="grid-column-start: 1; grid-column-end: 3">
					<h2>Função</h2>
					<mat-form-field appearance="outline">
						<mat-label>Função</mat-label>
						<input
							matInput
							type="text"
							name="funcao"
							ngModel
							required
							placeholder="analista"
						/>
						<mat-error>Insira uma função válida!</mat-error>
					</mat-form-field>
				</div>

				<mat-form-field appearance="outline">
					<mat-label>Senha</mat-label>
					<input
						matInput
						type="password"
						id="userPassword"
						#pw="ngModel"
						[(ngModel)]="password"
						[ngModelOptions]="{ standalone: true }"
						required
						showHideInput
						placeholder="**********"
						minlength="6"
					/>
					<!-- Icone com função para mostrar/esconder a senha -->
					<i
						matSuffix
						class="material-icons"
						showHideTrigger="userPassword"
						[showHideStatus]="{
							materialIcon: true,
							id: 'userPassword'
						}"
					></i>
					<mat-error
						>Insira uma senha com mais de 6 caracteres!</mat-error
					>
				</mat-form-field>
				<!-- Confirmar senha -->
				<mat-form-field appearance="outline">
					<mat-label>Confirme sua senha</mat-label>
					<input
						matInput
						type="password"
						id="confirmPassword"
						#confirmPw="ngModel"
						ngModel
						[ngModelOptions]="{ standalone: true }"
						required
						showHideInput
						placeholder="**********"
					/>
					<!-- Icone com função para mostrar/esconder a senha -->
					<i
						matSuffix
						class="material-icons"
						showHideTrigger="confirmPassword"
						[showHideStatus]="{
							materialIcon: true,
							id: 'confirmPassword'
						}"
					></i>
					<mat-error>Confirme sua senha!</mat-error>
				</mat-form-field>

				<button
					mat-raised-button
					type="button"
					(click)="returnToProfile()"
					class="colorWhite"
				>
					Voltar
				</button>
				<button
					type="submit"
					[disabled]="
						!adminData.valid ||
						!pw.valid ||
						!confirmPw.valid ||
						pw.value != confirmPw.value
					"
					class="colorWhite"
					mat-raised-button
				>
					Cadastrar
				</button>
			</form>
		</mat-card-content>
	</mat-card>
</div>
