<div class="content">
	<mat-toolbar class="toolBar">
		<img src="../../../../assets/measure-logo-header.svg" />
		<span class="material-icons profileIcon">account_circle</span>
	</mat-toolbar>
	<mat-card class="profileCard mat-elevation-z4">
		<mat-card-title>
			<h1>EDIÇÃO DE PERFIL</h1>
		</mat-card-title>
		<mat-card-content class="profileCardContent">
			<img
				class="profilePicture"
				src="{{ admin?.profilePicture || defaultImage }}"
				alt="Foto de perfil"
			/>
			<button mat-raised-button class="editPhoto">
				<label for="uploadButton" class="material-icons"
					>border_color</label
				>
			</button>
			<input
				style="display: none"
				accept="image/png image/jpeg"
				type="file"
				id="uploadButton"
				(change)="editPhoto($event)"
			/>

			<h2>Informações pessoais</h2>
			<form (ngSubmit)="editUserData()" class="edit-form">
				<mat-form-field appearance="outline">
					<mat-label>Edite seu nome</mat-label>
					<input
						matInput
						type="text"
						name="name"
						[(ngModel)]="admin.name"
						required
						placeholder="Nome"
					/>
					<mat-error>Insira um nome válido!</mat-error>
				</mat-form-field>
				<!-- CNPJ e data de Nascimento -->
				<mat-form-field appearance="outline">
					<mat-label>Editar CPF</mat-label>
					<input
						matInput
						type="text"
						name="cpf"
						[(ngModel)]="admin.cpf"
						required
						placeholder="000.000.000-00"
						mask="000.000.000-00"
					/>
					<mat-error>Insira um CNPJ válido!</mat-error>
				</mat-form-field>
				<mat-form-field appearance="outline">
					<mat-label>Nascimento</mat-label>
					<input
						matInput
						type="text"
						name="birthday"
						[(ngModel)]="admin.birthday"
						required
						placeholder="01/01/2021"
						mask="00/00/0000"
					/>
					<mat-error>Insira sua data de nascimento!</mat-error>
				</mat-form-field>

				<!-- Telefone -->
				<mat-form-field appearance="outline">
					<mat-label>Editar Telefone</mat-label>
					<input
						matInput
						type="text"
						name="phone"
						[(ngModel)]="admin.phone"
						required
						placeholder="(99) 9999-9999"
						mask="{{ phoneMask }}"
						(ngModelChange)="phoneLength = $event; onPhoneChanged()"
					/>
					<mat-error>Insira um numero de telefone válido!</mat-error>
				</mat-form-field>
				<!-- Endereço -->
				<mat-form-field appearance="outline">
					<mat-label>Editar Endereço</mat-label>
					<input
						matInput
						type="text"
						name="adress"
						[(ngModel)]="admin.adress"
						required
						placeholder="Nome da rua"
					/>
					<mat-error>Insira um endereço válido!</mat-error>
				</mat-form-field>

				<!-- Número -->
				<mat-form-field
					appearance="outline"
					style="width: 5rem; justify-self: end"
				>
					<mat-label>Nº</mat-label>
					<input
						matInput
						type="text"
						name="houseNumber"
						[(ngModel)]="admin.houseNumber"
						required
						placeholder="00"
						mask="0*"
					/>
					<mat-error>Insira um nº válido!</mat-error>
				</mat-form-field>
				<!-- Bairro -->
				<mat-form-field appearance="outline">
					<mat-label>Edite o Bairro</mat-label>
					<input
						matInput
						type="text"
						name="district"
						[(ngModel)]="admin.district"
						required
						placeholder="Nome do bairro"
					/>
					<mat-error>Insira seu bairro!</mat-error>
				</mat-form-field>

				<!-- Complemento -->
				<mat-form-field appearance="outline">
					<mat-label>Complemento</mat-label>
					<input
						matInput
						type="text"
						name="complement"
						[(ngModel)]="admin.complement"
						placeholder="Nome da rua"
					/>
				</mat-form-field>
				<!-- E-mail -->
				<mat-form-field appearance="outline">
					<mat-label>E-mail</mat-label>
					<input
						matInput
						type="text"
						name="email"
						[(ngModel)]="admin.email"
						required
						email
						placeholder="usuario@email.com"
					/>
					<mat-error>Insira um e-mail válido!</mat-error>
				</mat-form-field>

				<div style="grid-column-start: 1; grid-column-end: 3">
					<h2>Função</h2>
					<!-- Função -->
					<mat-form-field appearance="outline">
						<mat-label>Editar funcao</mat-label>
						<input
							matInput
							type="text"
							name="funcao"
							[(ngModel)]="admin.funcao"
						/>
					</mat-form-field>
				</div>

				<button mat-raised-button (click)="returnToProfile()">
					Voltar
				</button>
				<button type="submit" mat-raised-button>Confirmar</button>
			</form>
		</mat-card-content>
	</mat-card>
</div>
